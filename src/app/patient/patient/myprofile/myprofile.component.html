<div class="d-flex flex-row justify-content-between my-4">
    <h1 class="common-title">My Profile</h1>
    <button mat-raised-button color="primary" [routerLink]="['/myprofile', pId]" [queryParams]="{EditMode:true}">
            <!-- <mat-icon class="mr-5">edit</mat-icon> -->
            Edit Profile</button>
</div>

<mat-card class="">
    <form [formGroup]="profileForm">
    <div class="row">
        <div class="col-md-3 d-flex flex-column">
            <img src="{{profileForm.controls['image'].value}}" alt="" style="width:100px;height:100px;margin-right:auto;margin-left:auto">
        
                <input type="file" name="file" class="inputFile mt-2" (change)="onFileSelected($event)" *ngIf="editMode" >
                
                      
           
           
        </div>
        <div class="col-md-9 ">           
                <div class="row">
                    <div class="col-md-4">
                        <div *ngIf="!editMode" class="card-field"> <strong>First Name: </strong>{{profileForm.controls['firstName'].value}}</div>
                        <mat-form-field appearance="fill" class="mx-2" *ngIf="editMode">
                            <mat-label>First Name</mat-label>
                            <input matInput placeholder="Placeholder" formControlName="firstName">
                          
                        </mat-form-field>

                    </div>
                    <div class="col-md-4">
                        <div *ngIf="!editMode" class="card-field"> <strong>Last Name: </strong>{{profileForm.controls['lastName'].value}}</div>
                        <mat-form-field appearance="fill" class="mx-2" *ngIf="editMode">
                            <mat-label>Last Name</mat-label>
                            <input matInput placeholder="Placeholder" formControlName="lastName">
                         
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <div *ngIf="!editMode" class="card-field"> <strong>Date of Birth:</strong>{{profileForm.controls['dob'].value  | date:"MM/dd/yy"}}</div>
                        <mat-form-field appearance="fill" class="example-form-field"  *ngIf="editMode">
                            <mat-label>Choose a date</mat-label>
                            <input matInput [matDatepicker]="datepicker" formControlName="dob" [max]="maxDate" >
                            <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                            <mat-datepicker #datepicker>
                                <mat-datepicker-actions>
                                    <button mat-button matDatepickerCancel>Cancel</button>
                                    <button mat-raised-button color="primary" matDatepickerApply>Apply</button>
                                </mat-datepicker-actions>
                            </mat-datepicker>
                        </mat-form-field>
                       
                        <!-- <mat-form-field appearance="fill" class="mx-2" *ngIf="editMode">
                            <mat-label>Date of Birth</mat-label>
                            <input matInput placeholder="Placeholder" formControlName="dob">                        
                        </mat-form-field> -->
                    </div>




                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div *ngIf="!editMode" class="card-field"> <strong>Address:</strong> {{profileForm.controls['address'].value}}</div>
                        <mat-form-field appearance="fill" class="mx-2" *ngIf="editMode">
                            <mat-label>Address</mat-label>
                            <input matInput placeholder="Placeholder" formControlName="address">
                           
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">

                        <div *ngIf="!editMode" class="card-field"> <strong>Mobile:</strong> {{profileForm.controls['phone'].value}}</div>
                        <mat-form-field appearance="fill" class="mx-2" *ngIf="editMode">
                            <mat-label>Mobile</mat-label>
                            <input matInput placeholder="Placeholder" formControlName="phone">
                            
                        </mat-form-field>
                    </div>






                </div>
                <div class="d-flex justify-content-end" *ngIf="editMode">
                    <button mat-raised-button color="primary" class="mx-2" (click)="onDiscard()">Discard</button>
                    <button mat-raised-button color="primary" (click)="upadteUserData()">Save Profile</button>
                </div>


            
        </div>
    </div>
</form>
</mat-card>